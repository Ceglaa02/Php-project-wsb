function setCloseBtnStatus(e){switch(e){case"primary":case"secondary":case"success":case"danger":case"dark":return!0;default:return!1}}function buildContentModal(e,t){var a,o,l=!!t.alertType&&setCloseBtnStatus(t.alertType),l=(t.header&&((a=document.createElement("div")).classList.add("modal-header"),a.classList.add("text-bg-"+t.alertType),a.setAttribute("data-bs-theme",!0===l?"dark":"light"),(l=document.createElement(t.titleTag)).classList.add("modal-title"),l.innerHTML=t.header,(o=document.createElement("button")).classList.add("btn-close"),o.setAttribute("type","button"),o.setAttribute("data-bs-dismiss","modal"),o.setAttribute("aria-label","Close"),o.setAttribute("value",!1),a.appendChild(l),a.appendChild(o),e.appendChild(a)),document.createElement("div"));return l.classList.add("modal-body"),l.innerHTML=t.body,e.appendChild(l),t.footer&&((o=document.createElement("div")).setAttribute("id","contentModalFooter"),o.classList.add("modal-footer"),"object"==typeof t.footer?o.appendChild(t.footer):o.innerHTML=t.footer,e.appendChild(o)),e}function buildBaseModal(e){var t=document.querySelectorAll(".modal"),a=document.querySelectorAll(".modal-backdrop");let o,l;0<t.length&&0<a.length&&(o=parseInt(window.getComputedStyle(t.item(t.length-1)).getPropertyValue("z-index"))+1,l=parseInt(window.getComputedStyle(a.item(a.length-1)).getPropertyValue("z-index"))+1,t=o-l,o+=t,l+=t);var a=Math.floor(1001*Math.random())+"-"+Math.floor(1001*Math.random()),t=document.createElement("div"),d=(t.id="contentModal-"+a,t.classList.add("modal"),t.classList.add("fade"),t.style.zIndex=o,document.createElement("div")),e=(d.classList.add("modal-dialog"),e.fullscreen?d.classList.add("modal-fullscreen"):d.classList.add("modal-"+e.size),e.scrollable&&d.classList.add("modal-dialog-scrollable"),document.createElement("div"));return e.classList.add("modal-content"),{modalWrap:t,modalDialog:d,modalContent:e,modalId:a,backdropZIndex:l}}function runModal(modal,deafultOptions){modal.modalDialog.appendChild(modal.modalContent),modal.modalWrap.appendChild(modal.modalDialog),document.body.appendChild(modal.modalWrap);const contentModal=new bootstrap.Modal("#"+modal.modalWrap.id,{keyboard:deafultOptions.keyboard,backdrop:deafultOptions.backdrop,focus:deafultOptions.focus}),thisModal=document.getElementById(modal.modalWrap.id);if(thisModal.addEventListener("hidden.bs.modal",e=>{deafultOptions.reloadPage&&location.reload(),thisModal.remove()}),contentModal.show(),modal.backdropZIndex){const modalsBackdrops=document.querySelectorAll(".modal-backdrop"),modalBackdrop=modalsBackdrops.item(modalsBackdrops.length-1);modalBackdrop.style.zIndex=modal.backdropZIndex}const scriptElements=modal.modalWrap.querySelectorAll("script");return scriptElements.forEach(scriptEl=>{eval(scriptEl.textContent)}),contentModal}function createFooter(e,t=!1){var a,o=document.createElement("div");return o.classList.add("hstack"),o.classList.add("gap-2"),t?((t=document.createElement("button")).classList.add("btn"),t.classList.add("btn-primary"),t.classList.add("btn-sm"),t.setAttribute("type","button"),t.setAttribute("data-bs-dismiss","modal"),t.innerText="OK",o.append(t)):((t=document.createElement("button")).classList.add("btn"),t.classList.add("btn-primary"),t.classList.add("btn-sm"),t.setAttribute("type","button"),t.setAttribute("value",!0),t.setAttribute("data-bs-dismiss","modal"),e.confirmBtnText?t.innerText=e.confirmBtnText:((a=document.createElement("i")).classList.add("bi"),a.classList.add("bi-check-lg"),t.innerText="Tak",t.prepend(a)),o.appendChild(t),(a=document.createElement("button")).classList.add("btn"),a.classList.add("btn-danger"),a.classList.add("btn-sm"),a.setAttribute("type","button"),a.setAttribute("value",!1),a.setAttribute("data-bs-dismiss","modal"),e.cancelBtnText?a.innerText=e.cancelBtnText:((t=document.createElement("i")).classList.add("bi"),t.classList.add("bi-x-lg"),a.innerText="Nie",a.prepend(t)),o.appendChild(a)),o}function makeModal(e={}){var t={contentType:"html",header:"",footer:"",body:"",size:"lg",titleTag:"h4",keyboard:!0,reloadPage:!1,alertType:"light",backdrop:!0,focus:!1,fullscreen:!1,scrollable:!1},e=("object"==typeof e&&0<Object.keys(e).length?(t.contentType=("contentType"in e?e:t).contentType,t.header=("header"in e?e:t).header,t.body=("body"in e?e:t).body,t.footer=("footer"in e?e:t).footer,t.size=("size"in e?e:t).size,t.titleTag=("titleTag"in e?e:t).titleTag,t.keyboard=("keyboard"in e?e:t).keyboard,t.reloadPage=("reloadPage"in e?e:t).reloadPage,t.alertType=("alertType"in e?e:t).alertType,t.backdrop=("backdrop"in e?e:t).backdrop,t.focus=("focus"in e?e:t).focus,t.fullscreen=("fullscreen"in e?e:t).fullscreen,t.scrollable=("scrollable"in e?e:t).scrollable):"object"==typeof e&&0===Object.keys(e).length?t.contentType="object":0<Object.keys(e).length&&(t.contentType="html",t.body=e),buildBaseModal(t));return"html"===t.contentType?e.modalContent.innerHTML=t.body:e.modalContent=buildContentModal(e.modalContent,t),runModal(e,t)}async function makeModalConfirm(e={}){var t={header:"",message:"Czy na pewno?",size:"sm",titleTag:"h4",keyboard:!0,alertType:"light",confirmBtnText:"",cancelBtnText:"",backdrop:!0,focus:!0,reloadPage:!1,footer:"",fullscreen:!1,scrollable:!1},e=("object"==typeof e?(t.header=("header"in e?e:t).header,t.message="message"in e?encodeURIComponent(e.message):t.message,t.size=("size"in e?e:t).size,t.titleTag=("titleTag"in e?e:t).titleTag,t.keyboard=("keyboard"in e?e:t).keyboard,t.alertType=("alertType"in e?e:t).alertType,t.confirmBtnText="confirmBtnText"in e?encodeURIComponent(e.confirmBtnText):t.confirmBtnText,t.cancelBtnText="cancelBtnText"in e?encodeURIComponent(e.cancelBtnText):t.cancelBtnText,t.backdrop=("backdrop"in e?e:t).backdrop,t.focus=("focus"in e?e:t).focus,t.fullscreen=("fullscreen"in e?e:t).fullscreen,t.scrollable=("scrollable"in e?e:t).scrollable):t.message=e,buildBaseModal(t));t.footer=createFooter(t),t.body=t.message,e.modalContent=buildContentModal(e.modalContent,t),runModal(e,t);const a=e.modalContent.querySelectorAll("button");return new Promise(t=>{a.forEach(e=>{e.value&&e.addEventListener("click",()=>{t("true"===e.value)})})})}function makeModalAlert(e={}){var t={header:"",message:"Czy na pewno?",size:"sm",titleTag:"h4",keyboard:!0,alertType:"light",backdrop:!0,focus:!0,reloadPage:!1,footer:"",confirmBtnText:"",cancelBtnText:"",fullscreen:!1,scrollable:!1},e=("object"==typeof e?(t.header=("header"in e?e:t).header,t.message="message"in e?encodeURIComponent(e.message):t.message,t.size=("size"in e?e:t).size,t.titleTag=("titleTag"in e?e:t).titleTag,t.keyboard=("keyboard"in e?e:t).keyboard,t.alertType=("alertType"in e?e:t).alertType,t.backdrop=("backdrop"in e?e:t).backdrop,t.focus=("focus"in e?e:t).focus,t.fullscreen=("fullscreen"in e?e:t).fullscreen,t.scrollable=("scrollable"in e?e:t).scrollable):t.message=e,buildBaseModal(t));return t.footer=createFooter(t,!0),t.body=t.message,e.modalContent=buildContentModal(e.modalContent,t),runModal(e,t)}